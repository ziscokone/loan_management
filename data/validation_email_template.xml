<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="loan_validation_email_template" model="mail.template">
            <field name="name">Notification de validation - Prêt scolaire</field>
            <field name="model_id" ref="model_loan_application"/>
            <!-- <field name="subject">Validation de votre demande de prêt scolaire - {{object.campaign_id.name}}</field> -->
            <field name="subject">Validation de demande de prêt scolaire </field>
            <!-- <field name="email_from">${(object.company_id.email or user.company_id.email)|safe}</field> -->
            <field name="email_from"> ${(object.company_id.email or user.company_id.email)}</field>
            <field name="email_to">${object.email|safe}</field>
            <field name="body_html" type="html">
                <div style="background-color: #f8f9fa; padding: 10px; font-family: 'Helvetica Neue', Arial, sans-serif;">
                    <div style="max-width: 600px; margin: 0 auto; background-color: white; border-radius: 10px; padding: 15px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
                        <!-- En-tête -->
                        <div style="display: flex; align-items: center; justify-content: space-between; padding: 15px; margin-bottom: 20px; background-color: #fff;">
                            <!-- Logo à gauche -->
                            <div style="flex: 0 0 auto;">
                                <img src="https://www.portabidjan.ci/sites/default/files//logo_0.png" alt="Logo" style="height: 60px; width: auto;"/>
                            </div>
                            
                            <!-- Titres au centre -->
                            <div style="flex: 1; text-align: center; margin-left: 20px" >
                                <h3 style="color: #2c3e50; margin: 0; padding: 0; font-size: 20px; font-weight: 600;">
                                    Validation de demande de prêt scolaire
                                </h3>
                                <h4 style="color: #3498db; margin: 10px 0 0 0; font-size: 14px;">
                                    <span t-out="object.campaign_id.name or ''"></span>
                                </h4>
                            </div>
                            
                            <!-- Div vide à droite pour maintenir le centrage -->
                            <div style="flex: 0 0 auto; width: 60px;"></div>
                        </div>

                        <!-- Message de validation -->
                        <div style="background-color: #e8f6f3; border-radius: 8px; padding: 15px; margin-bottom: 20px; text-align: center;">
                            <p style="color: #16a085; font-size: 16px; margin: 0;">
                                Nous avons le plaisir de vous informer que votre demande de prêt a été validée.
                            </p>
                        </div>

                        <!-- Informations principales -->
                        <div style="background-color: #f8f9fa; border-radius: 8px; padding: 15px; margin-bottom: 15px;">
                            <!-- Informations du bénéficiaire -->
                            <div style="margin-bottom: 15px;">
                                <span style="color: #7f8c8d; font-size: 14px;">Nom et prénoms</span><br/>
                                <span style="color: #2c3e50; font-size: 14px; font-weight: 600;">
                                    <span t-out="object.nom or ''"></span> <span t-out="object.prenoms or ''"></span>
                                </span>
                            </div>

                            <div style="margin-bottom: 15px;">
                                <span style="color: #7f8c8d; font-size: 14px;">Direction</span><br/>
                                <span style="color: #2c3e50; font-size: 14px; font-weight: 600;" t-out="object.direction or ''"></span>
                            </div>

                            <!-- Montant accordé mis en évidence -->
                            <div style="background-color: #e8f6f3; padding: 15px; border-radius: 8px; text-align: center; margin: 20px 0;">
                                <span style="color: #16a085; font-size: 14px;">Montant accordé</span><br/>
                                <span style="color: #16a085; font-size: 24px; font-weight: 600;">
                                    <span t-esc ="'{:,.0f}'.format(object.approved_amount or 0).replace(',', ' ')"></span> FCFA
                                    <!-- <span t-out="object.approved_amount or ''"></span> FCFA -->
                                </span>
                            </div>

                            <!-- Modalités de remboursement -->
                            <div style="margin-bottom: 15px;">
                                <span style="color: #7f8c8d; font-size: 14px;">Mensualité</span><br/>
                                <span style="color: #2c3e50; font-size: 14px; font-weight: 600;">
                                    <span t-esc ="'{:,.0f}'.format(object.mensualite or 0).replace(',', ' ')"></span> FCFA
                                </span>
                            </div>

                            <div style="text-align: center; margin-top: 15px; padding: 10px; background-color: #fff8f0; border-radius: 8px;">
                                <span style="color: #e67e22; font-size: 14px;">Durée de remboursement</span><br/>
                                <span style="color: #e67e22; font-size: 16px; font-weight: 600;" t-out="object.modalite_remboursement or ''"></span>
                                <span style="color: #e67e22; font-size: 14px;"> mois</span>
                            </div>
                        </div>

                        <!-- Section contacts -->
                        <div style="background-color: #fff8f0; border-radius: 8px; padding: 15px; margin-bottom: 20px;">
                            <h6 style="color: #e67e22; margin: 0 0 15px 0; font-size: 12px;">
                                Pour toute information complémentaire, contactez la Direction des Ressources Humaines :
                            </h6>
                            <div style="display: flex; flex-direction: column; gap: 10px;">
                                <div style="padding: 8px; border-left: 3px solid #e67e22;">
                                    <!-- <strong style="color: #34495e; font-size: 12px;">MME GUEYE</strong> -->
                                    <!-- <span style="color: #7f8c8d; font-size: 14px; margin-left: 10px;">8222</span> -->
                                    <strong style="color: #34495e; font-size: 12px;"><span t-out="object.responsable_1 or ''"></span></strong>
                                    <span style="color: #7f8c8d; font-size: 12px; margin-left: 10px;" t-out="object.contact_responsable_1 or ''"></span>
                                </div>
                                <div style="padding: 8px; border-left: 3px solid #e67e22;">
                                    <strong style="color: #34495e; font-size: 12px;"><span t-out="object.responsable_2 or ''"></span></strong>
                                    <span style="color: #7f8c8d; font-size: 12px; margin-left: 10px;" t-out="object.contact_responsable_2 or ''"></span>
                                </div>
                                <div style="padding: 8px; border-left: 3px solid #e67e22;">
                                    <strong style="color: #34495e; font-size: 12px;"><span t-out="object.responsable_3 or ''"></span></strong>
                                    <span style="color: #7f8c8d; font-size: 12px; margin-left: 10px;" t-out="object.contact_responsable_3 or ''"></span>
                                </div>
                            </div>
                        </div>

                        <!-- Signature -->
                        <div style="text-align: center; margin-top: 20px; padding-top: 15px; border-top: 1px solid #ecf0f1;">
                            <p style="color: #7f8c8d; margin: 0; font-size: 14px;">Cordialement,</p>
                            <p style="color: #2c3e50; font-weight: 600; font-size: 14px; margin: 5px 0 0 0;">Service Prêt Scolaire</p>
                        </div>
                    </div>
                </div>
            </field>
            <field name="auto_delete" eval="True"/>
        </record>
    </data>
</odoo>